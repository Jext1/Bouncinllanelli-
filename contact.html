<form id="emailForm">
  <input type="email" id="to" placeholder="Recipient Email" required><br><br>
  <input type="text" id="subject" placeholder="Subject" required><br><br>
  <textarea id="message" placeholder="Message"></textarea><br><br>
  <button type="submit">Send Email</button>
</form>

<script>
document.getElementById("emailForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  let response = await fetch("/api/send", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      to: document.getElementById("to").value,
      subject: document.getElementById("subject").value,
      message: document.getElementById("message").value
    })
  });

  let result = await response.json();
  if(result.success){
    alert("✅ Email sent!");
  } else {
    alert("❌ Error: " + result.error);
  }
});
</script>